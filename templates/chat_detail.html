{% extends "layout.html" %}
{% block title %}トーク履歴{% endblock %}
{% block header %}トーク履歴: {{ user.display_name or user.id }}{% endblock %}
{% block content %}
<style>
    .chat-container { border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; }
    .message-history { height: 50vh; overflow-y: auto; padding: 1em; background-color: #e9e9e9; }
    .message { max-width: 70%; padding: 10px 15px; border-radius: 15px; margin-bottom: 10px; }
    .message.user { background-color: #ffffff; align-self: flex-start; }
    .message.admin { background-color: #dcf8c6; align-self: flex-end; }
    .message-row { display: flex; }
    .message-row.user { justify-content: flex-start; }
    .message-row.admin { justify-content: flex-end; }
</style>
<div class="content-panel">
    <div class="chat-container">
        <div class="message-history">
            {% for msg in messages %}
            <div class="message-row {{ msg.sender_type }}">
                <div class="message {{ msg.sender_type }}">
                    {{ msg.content }}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}