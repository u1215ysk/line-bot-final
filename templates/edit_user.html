{% extends "layout.html" %}
{% block title %}„É¶„Éº„Ç∂„ÉºÁ∑®ÈõÜ{% endblock %}
{% block header %}„É¶„Éº„Ç∂„ÉºÁ∑®ÈõÜ{% endblock %}

{% block content %}
<style>
    .tag-checkbox-group { 
        display: flex; 
        flex-wrap: wrap; 
        gap: 15px; 
        background-color: #fff; 
        padding: 1em; 
        border: 1px solid var(--border-color);
        border-radius: 4px;
        margin-top: 0.5em;
        margin-bottom: 1em;
    }
    .tag-checkbox-group label { 
        display: flex; 
        align-items: center; 
        cursor: pointer; 
        margin-right: 15px;
    }
    .tag-checkbox-group input { 
        margin-right: 5px; 
    }
    .form-actions {
        margin-top: 1.5em;
        text-align: right;
    }
    .button-save {
        background-color: #28a745;
    }
    .button-save:hover {
        background-color: #218838;
    }
</style>

<div class="content-panel">
    <form action="{{ url_for('update_user', user_id=user.id) }}" method="post">
        <h2><span style="font-size: 1.2em;">üë§</span> „É¶„Éº„Ç∂„ÉºÊÉÖÂ†±</h2>
        
        <p><strong>LINEË°®Á§∫Âêç:</strong> {{ user.display_name }}</p>
        <p style="font-size: 0.9em; color: #666;"><strong>„É¶„Éº„Ç∂„ÉºID:</strong> {{ user.id }}</p>

        <label for="nickname"><strong>ÁÆ°ÁêÜÁî®„Éã„ÉÉ„ÇØ„Éç„Éº„É†:</strong></label>
        <input type="text" id="nickname" name="nickname" value="{{ user.nickname or '' }}">

        <label for="tags"><strong>„Çø„Ç∞:</strong></label>
        <div class="tag-checkbox-group">
            {% for tag in all_tags %}
            <label>
                <input type="checkbox" name="tags" value="{{ tag.name }}" {% if tag.name in user.tags %}checked{% endif %}>
                {{ tag.name }}
            </label>
            {% endfor %}
        </div>
        
        <div class="form-actions">
            <a href="{{ url_for('admin_friends_page') }}" class="button" style="background-color:#6c757d; float: left;">„Ç≠„É£„É≥„Çª„É´</a>
            <button type="submit" class="button-save">Êõ¥Êñ∞</button>
        </div>
    </form>
</div>
{% endblock %}