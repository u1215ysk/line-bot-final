{% extends "layout.html" %}
{% block title %}äºˆç´„æŠ•ç¨¿ç®¡ç†{% endblock %}
{% block header %}äºˆç´„æŠ•ç¨¿ç®¡ç†{% endblock %}
{% block content %}
<div class="content-panel">
    <h2><span style="font-size: 1.2em;">ğŸ“«</span> äºˆç´„ä¸­ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h2>
    <p>ç¾åœ¨ {{ messages|length }} ä»¶ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒäºˆç´„ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
    <table>
        <thead>
            <tr>
                <th>é€ä¿¡å…ˆãƒ¦ãƒ¼ã‚¶ãƒ¼</th>
                <th>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹</th>
                <th>äºˆç´„æ—¥æ™‚</th>
                <th colspan="2">æ“ä½œ</th>
            </tr>
        </thead>
        <tbody>
            {% for message, display_name in messages %}
            <tr>
                <td>{{ display_name }}</td>
                <td>{{ message.message_text|truncate(30) }}</td>
                <td>{{ message.send_at.strftime('%Y-%m-%d %H:%M') }}</td>
                <td>
                    <a href="{{ url_for('edit_scheduled_page', msg_id=message.id) }}" class="button" style="background-color:#6c757d;">ç·¨é›†</a>
                </td>
                <td>
                    <form action="{{ url_for('delete_scheduled', msg_id=message.id) }}" method="post" onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');">
                        <button type="submit" class="button-delete">å‰Šé™¤</button>
                    </form>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center;">äºˆç´„ä¸­ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}