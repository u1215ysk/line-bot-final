{% extends "layout.html" %}
{% block title %}å‹ã ã¡ä¸€è¦§{% endblock %}
{% block header %}å‹ã ã¡ä¸€è¦§{% endblock %}

{% block content %}
<div class="content-panel">
    <h2><span style="font-size: 1.2em;">ğŸ‘¥</span> ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼</h2>

    <form method="get" action="{{ url_for('admin_friends_page') }}" style="margin-bottom: 1em; display: flex; gap: 10px;">
        <input type="text" name="q" placeholder="è¡¨ç¤ºåã€ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã§æ¤œç´¢..." value="{{ search_query or '' }}" style="flex-grow: 1;">
        <button type="submit">æ¤œç´¢</button>
    </form>

    <p>ç¾åœ¨ {{ users|length }} äººã®å‹ã ã¡ãŒã„ã¾ã™ã€‚</p>
    <table>
        <thead>
            <tr>
                <th>LINEè¡¨ç¤ºå</th>
                <th>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ </th>
                <th>ã‚¿ã‚°</th>
                <th>ç™»éŒ²æ—¥æ™‚</th>
                <th>æ“ä½œ</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.display_name }}</td>
                <td>{{ user.nickname or '-' }}</td>
                <td>{{ user.tags or '-' }}</td>
                <td>{{ user.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                <td><button onclick="openModal('{{ url_for('edit_user_page', user_id=user.id) }}')">ç·¨é›†</button></td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center;">ã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å‹ã ã¡ãŒã„ã¾ã›ã‚“ã€‚</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}