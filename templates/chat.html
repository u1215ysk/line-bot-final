{% extends "layout.html" %}
{% block title %}å€‹åˆ¥ãƒˆãƒ¼ã‚¯{% endblock %}
{% block header %}å€‹åˆ¥ãƒˆãƒ¼ã‚¯{% endblock %}

{% block content %}
<style>
    .filter-nav { margin-bottom: 1em; }
    .filter-nav a { margin-right: 10px; padding: 8px 12px; border-radius: 4px; text-decoration: none; background-color: #e9ecef; color: #495057; }
    .filter-nav a.active { background-color: var(--primary-color); color: white; font-weight: bold; }
</style>

<div class="content-panel">
    <h2><span style="font-size: 1.2em;">ğŸ’¬</span> ä¼šè©±ä¸€è¦§</h2>
    
    <div class="filter-nav">
        <a href="{{ url_for('admin_chat_page') }}" class="{{ 'active' if not current_filter }}">å…¨ã¦</a>
        <a href="{{ url_for('admin_chat_page', status='æœªå¯¾å¿œ') }}" class="{{ 'active' if current_filter == 'æœªå¯¾å¿œ' }}">æœªå¯¾å¿œ</a>
        <a href="{{ url_for('admin_chat_page', status='å¯¾å¿œä¸­') }}" class="{{ 'active' if current_filter == 'å¯¾å¿œä¸­' }}">å¯¾å¿œä¸­</a>
        <a href="{{ url_for('admin_chat_page', status='è¦å¯¾å¿œ') }}" class="{{ 'active' if current_filter == 'è¦å¯¾å¿œ' }}">è¦å¯¾å¿œ</a>
        <a href="{{ url_for('admin_chat_page', status='å¯¾å¿œæ¸ˆã¿') }}" class="{{ 'active' if current_filter == 'å¯¾å¿œæ¸ˆã¿' }}">å¯¾å¿œæ¸ˆã¿</a>
    </div>
    <table>
        <thead>
            <tr>
                <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                <th>LINEè¡¨ç¤ºå</th>
                <th>ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ </th>
                <th>æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ—¥æ™‚</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr style="cursor: pointer;" onclick="window.location='{{ url_for('admin_chat_detail_page', user_id=user.id) }}';">
                <td>{{ user.status }}</td>
                <td>{{ user.display_name }}</td>
                <td>{{ user.nickname or '-' }}</td>
                <td>(ã“ã“ã«æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ—¥æ™‚)</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}